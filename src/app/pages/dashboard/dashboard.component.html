<app-header></app-header>

<!---->
<div id="steps">
    <ul class="stepper linear parallel horizontal" id="api_nav_demo">
        <li class="step">
            <div class="step-title waves-effect waves-dark">Cuenta</div>
        </li>
        <li class="step">
            <div class="step-title waves-effect waves-dark">Datos de Préstamo</div>
            <div class="step-content">
                <div class="row">
                    <div class="cono2 special col xl5 offset-xl1 l5 offset-l1 m5 offset-m1 s9 offset-s1">

                        <p class="flow-text center-align">Crédito Directo Productivo desde
                            {{20000|currency:"MXN":"symbol"}} hasta {{50000|currency:"MXN":"symbol"}}</p>


                        <div>
                            <p class="white-text white hide">.</p>
                            <br><br>
                        </div>

                        <div class="custom-slider">
                            <ng5-slider [(value)]="valueMon" [options]="optionsMon"></ng5-slider>
                        </div>
                        <br><br>
                        <div class="custom-slider">
                            <ng5-slider [(value)]="valuePlaz" disabled [options]="optionsPlaz"></ng5-slider>
                        </div>
                        <br><br>
                        <div>

                            <div class="chip hide-on-small-only">
                                Costo Anual Total Informativo (CAT): {{ catPorcentaje.toFixed(2) }} %
                            </div>
                            <div class="chip hide-on-med-and-up">
                                CAT: {{ catPorcentaje.toFixed(2) }} %
                            </div>
                        </div>
                        <div class="center-align">
                            <p class="white-text flow-text cr">Total a Pagar:<b>
                                    {{((finance.PMT(0.0125,valuePlaz,-valueMon))*valuePlaz).toFixed(2) | currency:"MXN":"symbol"}}</b>
                            </p>
                        </div>
                        <br>

                        <div class="center-align hide-on-small-only">
                            <button class="waves-effect waves-dark teal darken-4 btn next-step">Continuar</button>
                        </div>

                        <div class="center-align hide-on-med-and-up">
                            <button class="waves-effect waves-dark gold btn next-step">Continuar</button>
                        </div>
                    </div>

                    <div class="crono1 col m5 offset-m1 l5 offset-l1 s10 offset-s1 hide-on-small-only">
                        <div class="card crd teal darken-4 white-text z-depth-3">
                            <div class="card-content">
                                <i class="material-icons medium icon-gold">monetization_on</i>
                                <p>Monto</p>
                                <p>{{valueMon | currency:"MXN":"symbol" }}</p>
                            </div>
                        </div>

                        <div class="card crd teal darken-4 white-text z-depth-3">
                            <div class="card-content">
                                <i class="material-icons medium icon-gold">date_range</i>
                                <p>Plazo</p>
                                <p>{{valuePlaz}} Meses</p>
                            </div>
                        </div>

                        <div class="card crd teal darken-4 white-text z-depth-3">
                            <div class="card-content">
                                <i class="material-icons medium icon-gold">local_atm</i>
                                <p>Parcialidad</p>
                                <p>{{ finance.PMT(0.0125,valuePlaz,-valueMon).toFixed(2) | currency:"MXN":"symbol" }}
                                </p>
                            </div>
                        </div>

                    </div>

                    <div class="crono1 col s12 hide-on-med-and-up">
                        <div class="center-align">
                            <p class="white-text flow-text teal darken-4">
                                <i class="small material-icons icon-gold left">monetization_on</i> Monto <b>
                                    {{ valueMon | currency:"MXN":"symbol" }}</b>
                            </p>

                        </div>
                        <div class="center-align">
                            <p class="white-text flow-text teal darken-4">
                                <i class="small material-icons icon-gold left">date_range</i> Plazo <b> {{valuePlaz}}
                                    Meses</b></p>

                        </div>
                        <div class="center-align">
                            <p class="white-text flow-text teal darken-4">
                                <i class="small material-icons icon-gold left">local_atm</i> Parcialidad <b>
                                    {{ finance.PMT(0.0125,valuePlaz,-valueMon).toFixed(2) | currency:"MXN":"symbol" }}</b>
                            </p>
                        </div>
                    </div>
                <!-- <div class="center-align">
                    <button class="waves-effect waves-dark teal darken-4 btn next-step">Continuar</button>
                </div> -->

                </div>
                <!-- Here goes your actions buttons -->
            </div>

        </li>
        <li class="step">
            <div class="step-title waves-effect waves-dark">Datos Personales</div>
            <div class="step-content">
                <div class="row" [formGroup]="form">
                    <input formControlName="plazocredito" class="hide" value="{{valuePlaz}}" [(ngModel)]="valuePlaz">
                    <input formControlName="montocredito" class="hide" value="{{valueMon}}" [(ngModel)]="valueMon">
                    <input type="text" hidden formControlName="paso" class="validate">
                    <input type="text" hidden formControlName="clientid" class="validate">
                    <input type="text" hidden formControlName="latdomic" class="validate" [(ngModel)]="lat">
                    <input type="text" hidden formControlName="lngdomic" class="validate" [(ngModel)]="lng">
                    <input type="text" hidden formControlName="latneg" class="validate" [(ngModel)]="lat2">
                    <input type="text" hidden formControlName="lngneg" class="validate" [(ngModel)]="lng2">
                    <input type="text" hidden formControlName="base64EncodedAuthenticationKey" class="validate">

                    <div class="input-field col s12 m12 l12">
                        <i class="material-icons prefix icon-gold">person</i>
                        <label class="title black-text"><b class="title col s12 m12 l12">Información
                                Personal</b></label>
                        <p><br></p>
                    </div>

                    <div class="row">
                        <div class="input-field col s12 m4">
                            <p>
                                <label>
                                    <input class="with-gap teal darken-4" (change)="rFiscal()" formControlName="tipopersona"
                                        id="tipopersonaF" type="radio" value="pFisica"
                                        [(ngModel)]="model" />
                                    <span>Persona Física con Actividad Empresarial</span>
                                </label>
                            </p>
                        </div>
                        <div class="input-field col s12 m4">
                            <p>
                                <label>
                                    <input class="with-gap teal darken-4" formControlName="tipopersona"
                                        type="radio" value="rFiscal" [(ngModel)]="model" />
                                    <span>Régimen de Incorporación Fiscal</span>
                                </label>
                            </p>
                        </div>
                        <div class="input-field col s12 m4"></div>
                    </div>

                    <div>
                        <p class="white-text white hide">.</p>
                        <br><br>
                    </div>

                    <div class="input-field col s12 m4 l4">
                        <i class="material-icons prefix">payment</i>
                        <input class="validate" id="clabeinter" type="text" (keypress)="numberOnly($event)"
                            formControlName="clabeinter" name="Clabe interbancaria" minlength="18" maxlength="18" required>
                        <label for="text" class="active">Clabe Interbancaria *</label>

                        <div class="blue-text" *ngIf="f.clabeinter.errors">La clabe interbancaria consta de 18 dígitos
                        </div>
                    </div>
                    <div class="input-field col s12 m2 l2">
                        <i class="material-icons prefix">house</i>

                        <label for="text">{{getBankName(1)}}</label>
                    </div>

                    <div class="input-field col s12 m4 l4">
                        <i class="material-icons prefix">payment</i>
                        <input class="validate" id="clabeinter" type="text" (keypress)="numberOnly($event)"
                            formControlName="clabeinterconf" name="Clabe Interbancaria (Confirmación) *" minlength="18" maxlength="18" required>
                        <label for="text">Clabe Interbancaria (Confirmación)</label>

                        <div class="red-text col s12" *ngIf="form.errors?.isValid && !form.pristine">
                            <p>Las clabes interbancarias no son iguales.</p>
                        </div>
                    </div>
                    <div class="input-field col s12 m2 l2">
                        <i class="material-icons prefix">house</i>

                        <label for="text">{{getBankName(2)}}</label>
                    </div>
                    
                    <div class="input-field col s12"></div>

                    <div class="input-field col s12 m6 l6">
                        <i class="material-icons prefix">account_circle</i>
                        <input id="nombre" type="text" formControlName="nombre" name="Nombre" 
                            (keyup)="form.patchValue({nombre: $event.target.value.toUpperCase()})" required
                            class="validate">
                        <label for="nombre">Nombre *</label>

                        <div class="blue-text" *ngIf="f.nombre.errors?.minlength">Debe tener un mínimo de 2 carácteres
                        </div>
                        <div class="red-text" *ngIf="form.errors?.isMatch">
                            <p>Palabra altisonante</p>
                        </div>
                    </div>

                    <div class="input-field col s12 m6 l6">
                        <i class="material-icons prefix">account_circle</i>
                        <input id="nombre2" type="text" formControlName="nombre2" name="Segundo Nombre" 
                            (keyup)="form.patchValue({nombre2: $event.target.value.toUpperCase()})" class="validate">
                        <label for="nombre2">Segundo Nombre</label>

                        <div class="blue-text" *ngIf="f.nombre2.errors?.minlength">Debe tener un minimo de 2 carácteres
                        </div>
                        <div class="red-text" *ngIf="form.errors?.isMatch">
                            <!--  <p>Palabra altisonante</p>-->
                        </div>
                    </div>
                    <div class="input-field col s12 m6 l6">
                        <i class="material-icons prefix">account_circle</i>
                        <input id="apaterno" type="text" name="Apellido Paterno" formControlName="apaterno"
                            (keyup)="form.patchValue({apaterno: $event.target.value.toUpperCase()})" required
                            class="validate" >
                        <label for="apaterno">Apellido Paterno *</label>
                        <div class="blue-text" *ngIf="f.apaterno.errors?.minlength">Debe tener un minimo de 2 carácteres
                        </div>
                        <div class="red-text" *ngIf="form.errors?.isMatch">
                            <!--  <p>Palabra altisonante</p> -->
                        </div>
                    </div>
                    <div class="input-field col s12 m6 l6">
                        <i class="material-icons prefix">account_circle</i>
                        <input id="amaterno" type="text" name="Apellido Materno" formControlName="amaterno"
                            (keyup)="form.patchValue({amaterno: $event.target.value.toUpperCase()})" required
                            class="validate" >
                        <label for="amaterno">Apellido Materno *</label>
                        <div class="blue-text" *ngIf="f.amaterno.errors?.minlength">Debe tener un minimo de 2 carácteres
                        </div>
                        <div class="red-text" *ngIf="form.errors?.isMatch">
                            <!--  <p>Palabra altisonante</p> -->
                        </div>
                    </div>

                    <div class="input-field col s12 m6 l6">
                        <input type="date" class="fecha validate" formControlName="fechanac" name="Fecha de Nacimiento"
                            id="fechanac" min="1960-12-31" max="2002-01-01" required >
                        <label>Fecha de Nacimiento *</label>
                    </div>

                    <div class="input-field col s12 m6 l6">
                        <select formControlName="edocivil" name="Estado Civil" id="edocivil" class="validate">
                            <option value="Casado">Casado</option>
                            <option value="Divorciado">Divorciado</option>
                            <option value="Separado">Separado</option>
                            <option value="Soltero">Soltero</option>
                            <option value="Union_libre">Unión libre</option>
                            <option value="Viudo">Viudo</option>
                        </select>
                        <label>Estado Civil *</label>
                        <div class="blue-text" *ngIf="f.genero.errors">Debes seleccionar una opción.</div>
                    </div>

                    <div class="input-field col s12 m6 l6">
                        <select formControlName="genero" name="Genero" id="genero" class="validate" >
                            <option value="" disabled selected>Selecciona una opción</option>
                            <option value="Femenino">Femenino</option>
                            <option value="Masculino">Masculino</option>
                        </select>
                        <label>Genero *</label>
                        <div class="blue-text" *ngIf="f.genero.errors">Debes seleccionar una opción.</div>
                    </div>

                    <div class="input-field col s12 m6 l6">
                        <i class="material-icons prefix">phone</i>
                        <input class="validate" id="telpersonal" type="text" formControlName="telpersonal"

                        (keypress)="numberOnly($event)" name="Número de Teléfono" minlength="10" maxlength="10" required>
                        <label for="text">Número de Celular *</label>

                        <div class="blue-text" *ngIf="f.telpersonal.errors">El teléfono debe ser de 10 digitos</div>
                    </div>

                    <div class="input-field col s12 m6 l6">
                        <select formControlName="paisnaci" name="País de Nacimiento" id="paisnaci" class="validate">
                            <option value="" disabled>Selecciona una opcion</option>
                            <option value="Mexico" selected>México</option>
                        </select>
                        <label>País de Nacimiento *</label>
                        <div class="blue-text" *ngIf="f.paisnaci.errors">Debes seleccionar una opción.</div>
                    </div>
                    
                    <div class="input-field col s12 m6 l6">
                        <label *ngIf="!entidadNac">Entidad Federativa de Nacimiento *</label>
                        <select class="browser-default" [(ngModel)]="entidadNac" formControlName="entidadfednaci" name="Entidad Federativa de Nacimiento" id="entidadfednaci">
                            <option value="" disabled selected>Selecciona una opción</option>
                            <option [value]="state.name" *ngFor="let state of stateOptions">{{state.name}}</option>
                        </select>
                        <!-- <label>Entidad Federativa de Nacimiento *</label> -->
                        <div class="blue-text" *ngIf="f.entidadfednaci.errors"></div>
                    </div>

                    <div class="input-field col s12 m6 l7">
                        <i class="material-icons prefix">aspect_ratio</i>
                        <input id="curp" type="text" (blur)=validaCurp() formControlName="curp" (focus)="generateCurp()"
                            (keyup)="form.patchValue({curp: $event.target.value.toUpperCase()})"
                            pattern="^([A-Z][AEIOUX][A-Z]{2}\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])[HM](?:AS|B[CS]|C[CLMSH]|D[FG]|G[TR]|HG|JC|M[CNS]|N[ETL]|OC|PL|Q[TR]|S[PLR]|T[CSL]|VZ|YN|ZS)[B-DF-HJ-NP-TV-Z]{3}[A-Z\d])(\d)$"

                            required class="validate" name="CURP" minlength="18" maxlength="18" />
                        <label for="curp" class="active">CURP *</label>

                        <div class="blue-text" *ngIf="f.curp.errors">Curp inválido</div>
                    </div>
                    <!--<div class="input-field col s12 m6 l6" *ngIf="model=='pFisica'">-->
                    <div class="input-field col s12 m6 l5">
                        <i class="material-icons prefix">aspect_ratio</i>
                        <input id="rfc" type="text" formControlName="rfc"
                            (keyup)="form.patchValue({rfc: $event.target.value.toUpperCase()})"
                            pattern="^([A-ZÑ&]{3,4}) ?(?:- ?)?(\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])) ?(?:- ?)?([A-Z\d]{2})([A\d])$"

                               required class="validate" name="RFC" minlength="12" maxlength="13" />
                        <label for="rfc" class="active">RFC *</label>

                        <div class="blue-text">Completa tu homoclabe</div>
                    </div>

                    <div class="input-field col s12 m6 l6">
                        <i class="material-icons prefix">aspect_ratio</i>
                        <input id="claveelector" type="text" formControlName="claveelector"
                            (keyup)="form.patchValue({claveelector: $event.target.value.toUpperCase()})" 
                            pattern="^(([B-D]|[F-H]|[J-N]|[P-T]|[V-Z]){6})([0-9]{6})([0-9]{2})([HM]{1})([0-9]{3})$"
                            required

                            minlength="18" maxlength="18" class="validate" name="Clave de Elector" />
                            <label for="rfc">Clave de Elector *</label>
                            
                            <a class="modal-trigger" href="#helpIne"><i
                                class="material-icons prefix icon-black">help_outline</i></a>
                        <div class="blue-text" *ngIf="f.claveelector.errors">Clave de Elector invalida</div>
                    </div>

                    <!--<div class="input-field col s12 m6 l6">
                        <select formControlName="ocupacion" name="ocupacion" id="ocupacion" class="validate">
                            <option value="" disabled selected>Selecciona una opción</option>
                            <option value="1">Agricultor</option>
                            <option value="2">Chofer</option>
                            <option value="3">Comerciante</option>
                            <option value="4">Empleado</option>
                        </select>
                        <label>Ocupación</label>
                        <div class="blue-text" *ngIf="f.ocupacion.errors">Debes seleccionar una opción.</div>
                    </div>-->

                    <div class="input-field col s12 m12 l12 mb-3">
                        <i class="material-icons prefix icon-gold">roofing</i>
                        <label class="title black-text">
                            <b class="title col s12 m12 l12">Dirección</b>
                        </label>
                    </div>
                    <div class="row">
                        <div class="col s6">
                            <div class="input-field col s12">
                                <span class="grey-text in">Calle *</span>
                                <input id="calle" type="text" [(ngModel)]="personal.calle"
                                    (keyup)="form.patchValue({calle: $event.target.value.toUpperCase()})"
                                    formControlName="calle" required class="validate" name="Calle Domicilio" />
                                <div class="red-text" *ngIf="form.errors?.isMatch"></div>
                            </div>
                            <div class="input-field col s4">
                                <span class="grey-text in">Número Exterior *</span>
                                <input id="numextdomic" type="text" [(ngModel)]="personal.ext"
                                    formControlName="numextdomic" required class="validate" name="Número Exterior Domicilio"
                                    placeholder="Número exterior" />
                                <div class="red-text" *ngIf="form.errors?.isMatch"></div>
                            </div>
                            <div class="input-field col s4">
                                <span class="grey-text in">Número Interior</span>
                                <input id="numint" type="text" [(ngModel)]="personal.int" formControlName="numint"
                                    name="Número Interior Domicilio" placeholder="Número interior domicilio" />
                                <div class="red-text" *ngIf="form.errors?.isMatch"></div>
                            </div>
                            <div class="input-field col s4">
                                <span class="grey-text in">Código Postal *</span>
                                <input #cp id="cp" type="text" formControlName="cp" required class="validate"
                                    name="Código Postal Domicilio" maxlength="5" [(ngModel)]="personal.cp" placeholder="Código Postal"
                                    (keypress)="numberOnly($event)" (keyup)="cp.value.length == 5 && searchCP(cp.value, 'personal')" />
                                <!--<label for="cp">Codigo Postal</label>-->
                                <div class="red-text" *ngIf="form.errors?.isMatch"></div>
                            </div>
                            <div class="input-field col s6">
                                <span class="grey-text in">Tipo de Asentamiento *</span>
                                <input [(ngModel)]="personal.tipo_asentamiento" type="text"
                                    formControlName="tipoasentamiento" disabled name="Tipo de Asentamiento Domicilio"
                                    id="tipoasentamiento" class="validate" placeholder="Tipo de asentamiento">
                                <!--<label for="tipoasentamiento">Tipo de asentamiento</label>-->
                                <div class="blue-text" *ngIf="f.tipoasentamiento.errors"></div>
                            </div>
                            <div class="input-field col s6">

                                <span class="grey-text in">Asentamiento</span>
                                <select [(ngModel)]="asentamiento" formControlName="asentamiento" name="Asentamiento Domicilio"

                                    id="asentamiento" class="validate">
                                    <option value="" disabled selected>Selecciona una opción</option>
                                    <option [ngValue]="item" *ngFor="let item of personal.asentamiento">{{item}}
                                    </option>
                                </select>
                            </div>
                            <div class="input-field col s6">
                                <span class="grey-text in">Municipio *</span>
                                <input [(ngModel)]="personal.municipio" id="municipio" type="text"
                                    formControlName="municipio" name="Municipio Domicilio" class="validate"
                                    placeholder="Municipio" disabled required class="validate" />
                                <div class="red-text" *ngIf="form.errors?.isMatch"></div>
                            </div>
                            <div class="input-field col s6">
                                <span class="grey-text in">Entidad Federativa *</span>
                                <input type="text" [(ngModel)]="personal.estado" formControlName="entidadfeddomic"
                                    name="Entidad Federativa Domicilio" id="entidadfeddomic" class="validate"
                                    placeholder="Entidad federativa" disabled>
                                <div class="blue-text" *ngIf="f.entidadfeddomic.errors"></div>
                            </div>
                        </div>
                        <div class="col s6">
                            <div class="input-field col s12">
                                <agm-map [latitude]="lat" [longitude]="lng" [zoom]="zoom" [zoomControl]="true"
                                    (mapClick)="mapClicked($event, 'personal')">
                                    <agm-marker *ngFor="let m of markers; let i = index" [latitude]="m.lat"
                                        [longitude]="m.lng" [label]="m.label" [markerDraggable]="m.draggable">
                                        <agm-info-window>
                                            <strong>Mi Ubicación</strong>
                                        </agm-info-window>
                                    </agm-marker>
                                </agm-map>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12 m12 l12 mb-3">
                            <i class="material-icons prefix icon-gold">work</i>
                            <label class="title black-text">
                                <b class="title col s12 m12 l12">Información del Negocio</b>
                            </label>
                        </div>
                        <div class="col s6">
                            <div class="input-field col s12">
                                <span class="grey-text in">Calle *</span>
                                <input id="calleneg" [(ngModel)]="negocio.calle" type="text" formControlName="calleneg"
                                    required class="validate" name="Calle Negocio" (keyup)="form.patchValue({calleneg: $event.target.value.toUpperCase()})"/>
                                <div class="red-text" *ngIf="form.errors?.isMatch"></div>
                            </div>
                            <div class="input-field col s4">
                                <span class="grey-text in">Número Exterior *</span>
                                <input id="numextneg" [(ngModel)]="negocio.ext" type="text" formControlName="numextneg"
                                    required class="validate" name="Número Exterior Negocio" placeholder="Número exterior" />
                                <div class="red-text" *ngIf="form.errors?.isMatch"></div>
                            </div>
                            <div class="input-field col s4">
                                <span class="grey-text in">Número Interior</span>
                                <input id="numintneg" [(ngModel)]="negocio.int" type="text" formControlName="numintneg"
                                    name="Número Interior Negocio" placeholder="Número interior" />
                                <div class="red-text" *ngIf="form.errors?.isMatch"></div>
                            </div>
                            <div class="input-field col s4">
                                <span class="grey-text in">Código Postal *</span>
                                <input #cpneg id="cpneg" [(ngModel)]="negocio.cp" type="number" formControlName="cpneg"
                                    required class="validate" name="Código Postal Negocio" maxlength="5" placeholder="Codigo Postal"
                                    (keypress)="numberOnly($event)" (keyup)="cpneg.value.length == 5 && searchCP(cpneg.value, 'negocio')" />
                                <div class="red-text" *ngIf="form.errors?.isMatch"></div>
                            </div>
                            <div class="input-field col s6">
                                <span class="grey-text in">Tipo de Asentamiento *</span>
                                <input type="text" [(ngModel)]="negocio.tipo_asentamiento"
                                    formControlName="tipoasentamientoneg" disabled name="Tipo de Asentamiento Negocio"
                                    id="tipoasentamientoneg" class="validate" placeholder="Tipo de asentamiento">
                                <div class="blue-text" *ngIf="f.tipoasentamientoneg.errors"></div>
                            </div>
                            <div class="input-field col s6">
                                <span class="grey-text in">Asentamiento *</span>
                                <select [(ngModel)]="asentamientoneg" formControlName="asentamientoneg"
                                    name="Asentamiento Negocio" id="asentamientoneg" class="negocio validate">
                                    <option value="" disabled selected>Selecciona una opción</option>
                                    <option [ngValue]="item" *ngFor="let item of negocio.asentamiento">{{item}}</option>
                                </select>
                            </div>
                            <div class="input-field col s6">
                                <span class="grey-text in">Municipio *</span>
                                <input type="text" [(ngModel)]="negocio.municipio" id="municipioneg"
                                    formControlName="municipioneg" disabled name="Municipio Negocio" class="validate"
                                    placeholder="Ciudad">
                                <div class="red-text" *ngIf="form.errors?.isMatch"></div>
                            </div>
                            <div class="input-field col s6">
                                <span class="grey-text in">Entidad Federativa *</span>
                                <input type="text" [(ngModel)]="negocio.estado" formControlName="entidadfedneg"
                                    name="Entidad Federativa Negocio" disabled id="entidadfedneg" class="validate"
                                    placeholder="Entidad federativa">
                                <div class="blue-text" *ngIf="f.entidadfedneg.errors"></div>
                            </div>
                            <div class="input-field col s12">
                                <i class="material-icons prefix">phone</i>
                                <input class="validate" id="phoneneg" type="text" formControlName="phoneneg"
        
                                (keypress)="numberOnly($event)" name="Número de Teléfono Negocio" minlength="10" maxlength="10" required>
                                <label for="text">Teléfono de Negocio *</label>
        
                                <div class="blue-text" *ngIf="f.phoneneg.errors">El teléfono debe ser de 10 digitos</div>
                            </div>
                        </div>
                        <div class="col s6">
                            <div class="input-field col s12">
                                <agm-map [latitude]="lat2" [longitude]="lng2" [zoom]="zoom2" [zoomControl]="true"
                                    (mapClick)="mapClicked($event, 'negocio')">
                                    <agm-marker *ngFor="let m of markers2; let i = index" [latitude]="m.lat"
                                        [longitude]="m.lng" [label]="m.label" [markerDraggable]="m.draggable">
                                        <agm-info-window>
                                            <strong>Mi Ubicación</strong>
                                        </agm-info-window>
                                    </agm-marker>
                                </agm-map>
                            </div>
                        </div>
                    </div>

                    <div class="input-field col s12 m12 l12">
                        <i class="material-icons prefix icon-gold">work_outline</i>
                        <label class="title black-text"><b class="title col s12 m12 l12">Actividad del
                                Negocio</b></label>
                        <p><br></p>
                    </div>
                    <div class="input-field col s12 m6 l6">
                        <select formControlName="sector" name="Sector" id="sector" class="validate" [(ngModel)]="sector"
                            (ngModelChange)="activitieChange($event, 'sector', sector=sector)">
                            <option value="" disabled selected>Selecciona una opción</option>
                            <option [ngValue]="item.codigo" *ngFor="let item of activities.sectorList">{{item.titulo}}
                            </option>
                        </select>
                        <label>Sector*:
                            <!--{{sector}}--></label>
                        <div class="blue-text" *ngIf="f.sector.errors">Debes seleccionar una opción.</div>
                    </div>
                    <div class="input-field col s12 m6 l6">
                        <select formControlName="subsector" name="Subsector" id="subsector" class="validate"
                            [(ngModel)]="subsector"
                            (ngModelChange)="activitieChange($event, 'subsector', sector=sector, subsector=subsector)">
                            <option value="" disabled selected>Selecciona una opción</option>
                            <option [ngValue]="item.codigo" *ngFor="let item of activities.subsectorList">
                                {{item.titulo}}</option>
                        </select>
                        <label>Subsector *:
                            <!--{{subsector}}--></label>
                        <div class="blue-text" *ngIf="f.subsector.errors">Debes seleccionar una opción.</div>
                    </div>
                    <div class="input-field col s12 m6 l6">
                        <select formControlName="rama" name="Rama" id="rama" class="validate" [(ngModel)]="rama"
                            (ngModelChange)="activitieChange($event, 'rama', sector=sector, subsector=subsector, rama=rama)">
                            <option value="" disabled selected>Selecciona una opción</option>
                            <option [ngValue]="item.codigo" *ngFor="let item of activities.ramaList">{{item.titulo}}
                            </option>
                        </select>
                        <label>Rama *:
                            <!--{{rama}}--></label>
                        <div class="blue-text" *ngIf="f.sector.errors">Debes seleccionar una opción.</div>
                    </div>
                    <div class="input-field col s12 m6 l6">
                        <select formControlName="subrama" name="Subrama" id="subrama" class="validate"
                            [(ngModel)]="subrama"
                            (ngModelChange)="activitieChange($event, 'subrama', sector=sector, subsector=subsector, rama=rama, subrama=subrama)">
                            <option value="" disabled selected>Selecciona una opción</option>
                            <option [ngValue]="item.codigo" *ngFor="let item of activities.subramaList">{{item.titulo}}
                            </option>
                        </select>
                        <label>Subrama *:
                            <!--{{subrama}}--></label>
                        <div class="blue-text" *ngIf="f.sector.errors">Debes seleccionar una opción.</div>
                    </div>
                    <div class="input-field col s12 m6 l6">
                        <select formControlName="giro" name="Giro" id="giro" class="validate" [(ngModel)]="giro">
                            <option value="" disabled selected>Selecciona una opción</option>
                            <option [ngValue]="item.codigo" *ngFor="let item of activities.giroList">{{item.titulo}}
                            </option>
                        </select>
                        <label>Giro *:
                            <!--{{giro}}--></label>
                        <div class="blue-text" *ngIf="f.sector.errors">Debes seleccionar una opción.</div>
                    </div>




                    <div class="input-field col s12 m12 l12">
                        <i class="material-icons prefix icon-gold">people_outline</i>
                        <label class="title black-text"><b class="title col s12 m12 l12">Referencias
                                Personales</b></label>
                        <p><br></p>
                    </div>



                    <div class="input-field col s12 m12 l12">
                        <i class="material-icons prefix icon-gold">local_offer</i>
                        <label class="title"><b class="title col s12 m12 l12">Referencia 1</b></label>
                        <p><br></p>
                    </div>

                    <div class="input-field col s12 m6 l6">
                        <i class="material-icons prefix">account_circle</i>
                        <input id="ref1nombre" type="text" formControlName="ref1nombre" name="Nombre Referencia 1" required
                        (keyup)="form.patchValue({ref1nombre: $event.target.value.toUpperCase()})" class="validate">
                        <label for="ref1nombre">Nombre *</label>

                        <div class="blue-text" *ngIf="f.ref1nombre.errors?.minlength">Debe tener un mínimo de 2
                            carácteres</div>
                        <div class="red-text" *ngIf="form.errors?.isMatch">
                        </div>
                    </div>

                    <div class="input-field col s12 m6 l6">
                        <i class="material-icons prefix">account_circle</i>
                        <input id="ref1nombre2" type="text" formControlName="ref1nombre2" name="ref1nombre2"
                        (keyup)="form.patchValue({ref1nombre2: $event.target.value.toUpperCase()})" class="validate">
                        <label for="ref1nombre2">Segundo Nombre</label>

                        <div class="blue-text" *ngIf="f.ref1nombre2.errors?.minlength">Debe tener un minimo de 2
                            carácteres</div>
                        <div class="red-text" *ngIf="form.errors?.isMatch">
                            <!--  <p>Palabra altisonante</p>-->
                        </div>
                    </div>
                    <div class="input-field col s12 m6 l6">
                        <i class="material-icons prefix">account_circle</i>
                        <input id="ref1apaterno" type="text" name="Apellido Paterno Referencia 1" formControlName="ref1apaterno"
                        (keyup)="form.patchValue({ref1apaterno: $event.target.value.toUpperCase()})" required class="validate">
                        <label for="ref1apaterno">Apellido Paterno *</label>
                        <div class="blue-text" *ngIf="f.ref1apaterno.errors?.minlength">Debe tener un minimo de 2
                            carácteres</div>
                        <div class="red-text" *ngIf="form.errors?.isMatch">
                            <!--  <p>Palabra altisonante</p> -->
                        </div>
                    </div>
                    <div class="input-field col s12 m6 l6">
                        <i class="material-icons prefix">account_circle</i>
                        <input id="ref1amaterno" type="text" name="Apellido Materno Referencia 1" formControlName="ref1amaterno"
                        (keyup)="form.patchValue({ref1amaterno: $event.target.value.toUpperCase()})" required class="validate">
                        <label for="ref1amaterno">Apellido Materno *</label>
                        <div class="blue-text" *ngIf="f.ref1amaterno.errors?.minlength">Debe tener un minimo de 2
                            carácteres</div>
                        <div class="red-text" *ngIf="form.errors?.isMatch">
                            <!--  <p>Palabra altisonante</p> -->
                        </div>
                    </div>

                    <div class="input-field col s12 m6 l6">
                        <i class="material-icons prefix">phone</i>
                        <input class="validate" id="ref1tel" type="text" formControlName="ref1tel" name="Teléfono Referencia 1"
                        (keypress)="numberOnly($event)" minlength="10" maxlength="10" required>
                        <label for="text">Número de Celular *</label>
                        <div class="blue-text" *ngIf="f.ref1tel.errors">El teléfono debe ser de 10 digitos</div>
                    </div>

                    <div class="input-field col s12 m6 l6">
                        <select formControlName="ref1tiporelacion" name="Relación Referencia 1" id="ref1tiporelacion"
                            class="validate">
                            <option value="" disabled selected>Selecciona una opción</option>
                            <option value="2">Amistad</option>
                            <option value="1">Familiar</option>
                            <option value="3">Laboral o Profesional</option>
                        </select>
                        <label>Relación *</label>
                        <div class="blue-text" *ngIf="f.ref1tiporelacion.errors">Debes seleccionar una opción.</div>
                    </div>

                    <div class="input-field col s12 m12 l12">
                        <i class="material-icons prefix icon-gold">local_offer</i>
                        <label class="title"><b class="title col s12 m12 l12">Referencia 2</b></label>
                        <p><br></p>
                    </div>

                    <div class="input-field col s12 m6 l6">
                        <i class="material-icons prefix">account_circle</i>
                        <input id="ref2nombre" type="text" formControlName="ref2nombre" name="Nombre Referencia 2" required
                        (keyup)="form.patchValue({ref2nombre: $event.target.value.toUpperCase()})" class="validate">
                        <label for="ref2nombre">Nombre *</label>

                        <div class="blue-text" *ngIf="f.ref2nombre.errors?.minlength">Debe tener un mínimo de 2
                            carácteres</div>
                        <div class="red-text" *ngIf="form.errors?.isMatch">
                        </div>
                    </div>

                    <div class="input-field col s12 m6 l6">
                        <i class="material-icons prefix">account_circle</i>
                        <input id="ref2nombre2" type="text" formControlName="ref2nombre2" name="ref2nombre2"
                        (keyup)="form.patchValue({ref2nombre2: $event.target.value.toUpperCase()})" class="validate">
                        <label for="ref2nombre2">Segundo Nombre</label>

                        <div class="blue-text" *ngIf="f.ref2nombre2.errors?.minlength">Debe tener un minimo de 2
                            carácteres</div>
                        <div class="red-text" *ngIf="form.errors?.isMatch">
                            <!--  <p>Palabra altisonante</p>-->
                        </div>
                    </div>
                    <div class="input-field col s12 m6 l6">
                        <i class="material-icons prefix">account_circle</i>
                        <input id="ref2apaterno" type="text" name="Apellido Paterno Referencia 2" formControlName="ref2apaterno"
                        (keyup)="form.patchValue({ref2apaterno: $event.target.value.toUpperCase()})" required class="validate">
                        <label for="ref2apaterno">Apellido Paterno *</label>
                        <div class="blue-text" *ngIf="f.ref2apaterno.errors?.minlength">Debe tener un minimo de 2
                            carácteres</div>
                        <div class="red-text" *ngIf="form.errors?.isMatch">
                            <!--  <p>Palabra altisonante</p> -->
                        </div>
                    </div>
                    <div class="input-field col s12 m6 l6">
                        <i class="material-icons prefix">account_circle</i>
                        <input id="ref2amaterno" type="text" name="Apellido Materno Referencia 2" formControlName="ref2amaterno"
                        (keyup)="form.patchValue({ref2amaterno: $event.target.value.toUpperCase()})" required class="validate">
                        <label for="ref2amaterno">Apellido Materno *</label>
                        <div class="blue-text" *ngIf="f.ref2amaterno.errors?.minlength">Debe tener un minimo de 2
                            carácteres</div>
                        <div class="red-text" *ngIf="form.errors?.isMatch">
                            <!--  <p>Palabra altisonante</p> -->
                        </div>
                    </div>

                    <div class="input-field col s12 m6 l6">
                        <i class="material-icons prefix">phone</i>
                        <input class="validate" id="ref2tel" type="text" formControlName="ref2tel" name="Teléfono Referencia 2"
                        (keypress)="numberOnly($event)" minlength="10" maxlength="10" required>
                        <label for="text">Número de Celular *</label>
                        <div class="blue-text" *ngIf="f.ref2tel.errors">El teléfono debe ser de 10 digitos</div>
                    </div>

                    <div class="input-field col s12 m6 l6">
                        <select formControlName="ref2tiporelacion" name="Relación Referencia 2" id="ref2tiporelacion"
                            class="validate">
                            <option value="" disabled selected>Selecciona una opción</option>
                            <option value="2">Amistad</option>
                            <option value="1">Familiar</option>
                            <option value="3">Laboral o Profesional</option>
                        </select>
                        <label>Relación *</label>
                        <div class="blue-text" *ngIf="f.ref2tiporelacion.errors">Debes seleccionar una opción.</div>
                    </div>


                    <div class="input-field col s12 m12 l12">
                        <p><br></p>
                    </div>

                    <div class="row">
                        <div class="input-field col s12 m12 l12">
                            <label><input class="with-gap teal darken-4" formControlName="aprivacidad"
                                    name="Aviso de Privacidad" id="aprivacidad" type="checkbox" [(ngModel)]="aviso" required/>
                                <span>

                                    <label class="waves-effect modal-trigger subrayar" href="#aviso">
                                        <span class="blue-text text-darken-4" style="font-size: 14px;">He Leído la
                                            Política de Privacidad. *</span>
                                    </label>
                                </span>
                            </label>
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="input-field col s12 m12 l12">
                            <label> <input class="with-gap teal darken-4" required formControlName="termcond" id="termcond" name="Términos y condiciones"
                                    type="checkbox" [(ngModel)]="term" />
                                <span>

                                    <label class="waves-effect modal-trigger subrayar" href="#terminos">
                                        <span class="blue-text text-darken-4" style="font-size: 14px;">Acepto
                                            Términos y Condiciones. *</span>
                                    </label>
                                </span>
                            </label>
                        </div>
                    </div>

                    <div class="input-field col s12 m12 l12">
                        <p><br></p>
                    </div>

                    <form ngNativeValidate [formGroup]="form" (ngSubmit)="dpersonales()">
                        <div class="col s12">
                            <a class="waves-effect teal darken-4 btn previous-step left">Atras
                                <i class="material-icons prefix left">arrow_back_ios</i>
                            </a>
                            <button class="waves-effect teal darken-4 btn right " type="submit">Continuar
                                <!--revisar nextstep igual en ts-->
                                <i class="material-icons prefix right">arrow_forward_ios</i>
                            </button>
                        </div>
                    </form>
                </div>
            </div>

        </li>
        <li class="step">
            <div class="step-title waves-effect waves-dark">Subir Documentos</div>
            <div class="step-content">
                <form ngNativeValidate [formGroup]="formDocumentos" (ngSubmit)="ddocumentos()">
                    <input type="text" hidden formControlName="paso" class="validate">
                    <input type="text" hidden formControlName="clientid" class="validate">
                    <div class="row">

                        <!--                  <div class="col s12">
                        <div class="input-field col s12 m4">
                            <p>
                                <label>
                            <input class="with-gap teal darken-4"  name="typeId" id="typeId" type="radio" formControlName="typeId" [(ngModel)]="typeId" value="ine" (change)="typeIdFun()"/>
                            <span>INE</span>
                        </label>
                            </p>
                        </div>
                        <div class="input-field col s12 m4">
                            <p>
                                <label>
                            <input class="with-gap teal darken-4"  name="typeId" id="typeId" type="radio" formControlName="typeId" [(ngModel)]="typeId" value="pasaporte" (change)="typeIdFun()"/>
                            <span>Pasaporte</span>
                        </label>
                            </p>
                        </div>
                    </div> -->
                        <!--  -->
                        <div class="input-field col s12 m12 l12">
                            <i class="material-icons prefix icon-gold">vpn_key</i>
                            <label class="title black-text"><b class="title col s12 m12 l12">Identificación
                                    Oficial</b></label>
                            <p><br></p>
                            <p>Selecciona el tipo de identificación que usaras, estos archivos podrán ser (PDF, imagen)
                            </p>
                        </div>

                        <div class="input-field col s12 m4">
                            <p>
                                <label>
                                    <input class="with-gap teal darken-4" (change)="typeIdFun()"
                                        formControlName="typeId" id="typeId" type="radio" value="ine"
                                        [(ngModel)]="typeId" />
                                    <span>INE</span>
                                </label>
                            </p>
                        </div>
                        <div class="input-field col s12 m4">
                            <p>
                                <label>
                                    <input class="with-gap teal darken-4" (change)="typeIdFun()"
                                        formControlName="typeId" id="typeId" type="radio"
                                        value="pasaporte" [(ngModel)]="typeId" />
                                    <span>Pasaporte</span>
                                </label>
                            </p>
                        </div>
                    </div>
                    <div class="row">
                        <!--                     <div>
                        <p class="white-text white hide">.</p>
                        <br><br>

                    </div>

<br><br> -->
                        <div *ngIf="typeId==='ine'">

                            <div class="col s12 m2 l2">
                                <span>Identificación Oficial Frontal (INE)</span>
                            </div>

                            <div class="file-field input-field col s12 m4 l4">
                                <div class="teal darken-4 btn">
                                    <i class="material-icons right">attachment</i>cargar
                                    <input type="file" formControlName="frontal" (change)="ValidateSize('frontal')"
                                        accept="image/jpg, image/jpeg, image/png, application/pdf" id="frontal"
                                        class="validate" required>
                                </div>
                                <div class="col s1 m1 l1" *ngIf="doc.frontal.errors?.required">
                                    <i class="material-icons icon-red">error_outline</i>
                                </div>
                                <div class="file-path-wrapper">
                                    <input class="file-path validate" type="text"
                                        placeholder="Archivos permitidos PDF, JPG">
                                </div>
                            </div>

                            <div>
                                <div class="col s12 m2 l2">
                                    <span>Identificación Oficial Reverso (INE)</span>
                                </div>
                                <div class="file-field input-field col s12 m4 l4">
                                    <div class="teal darken-4 btn">
                                        <i class="material-icons right">attachment</i>cargar
                                        <input type="file" required formControlName="reverso" (change)="ValidateSize('reverso')"
                                            accept="image/jpg, image/jpeg, image/png, application/pdf" id="reverso"
                                            class="validate">
                                    </div>
                                    <div class="col s1 m1 l1" *ngIf="doc.reverso.errors?.required">
                                        <i class="material-icons icon-red">error_outline</i>
                                    </div>
                                    <div class="file-path-wrapper">
                                        <input class="file-path validate" type="text"
                                            placeholder="Archivos permitidos PDF, JPG">
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div *ngIf="typeId==='pasaporte'">

                            <div class="col s12 m2 l2">
                                <span>Identificación Oficial (Pasaporte)</span>
                            </div>

                            <div class="file-field input-field col s12 m4 l4">
                                <div class="teal darken-4 btn">
                                    <i class="material-icons right">attachment</i>cargar
                                    <input type="file" required formControlName="frontal" (change)="ValidateSize('frontal')"
                                        accept="image/jpg, image/jpeg, image/png, application/pdf" id="frontal"
                                        class="validate">
                                </div>
                                <div class="col s1 m1 l1" *ngIf="doc.frontal.errors?.required">
                                    <i class="material-icons icon-red">error_outline</i>
                                </div>
                                <div class="file-path-wrapper">
                                    <input class="file-path validate" type="text"
                                    placeholder="Archivos permitidos PDF, JPG">
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12 m12 l12">
                            <i class="material-icons prefix icon-gold">vpn_key</i>
                            <label class="title black-text"><b class="title col s12 m12 l12">Comprobantes de
                                    Domicilio</b></label>
                            <p><br></p>
                            <p>Estos archivos podrán ser (PDF, imagen)</p>
                        </div>
                    </div>
                    <div class="row">
                        <div>
                            <div class="col s12 m2 l2">
                                <span>Comprobante de Domicilio Personal</span>
                                <a (click)="sweetHome('1')"><i
                                        class="material-icons prefix icon-black">help_outline</i></a>
                            </div>
                            <div class="file-field input-field col s12 m4 l4">
                                <div class="teal darken-4 btn">
                                    <i class="material-icons right">attachment</i>cargar

                                    <input type="file" required formControlName="comprobante"
                                        title="Recibo CFE del Domicilio Personal con antigüedad no mayor a 3 meses."
                                        (change)="ValidateSize('comprobante')"
                                        accept="image/jpg, image/jpeg, image/png, application/pdf" id="comprobante"
                                        class="validate">
                                </div>
                                <div class="col s1 m1 l1" *ngIf="doc.comprobante.errors?.required">
                                    <i class="material-icons icon-red">error_outline</i>
                                </div>
                                <div class="file-path-wrapper">
                                    <input class="file-path validate" type="text"
                                        placeholder="Archivos permitidos PDF, JPG">
                                </div>
                            </div>
                        </div>


                        <div>
                            <div class="col s12 m2 l2">
                                <span>Comprobante de Domicilio del Negocio</span>
                                <a (click)="sweetHome('3')"><i
                                        class="material-icons prefix icon-black">help_outline</i></a>
                            </div>
                            <div class="file-field input-field col s12 m4 l4">
                                <div class="teal darken-4 btn">
                                    <i class="material-icons right">attachment</i>cargar


                                    <input type="file" required title="Recibo CFE del Negocio con antigüedad no mayor a 3 meses."
                                        (change)="ValidateSize('comprobanten')" formControlName="comprobanten"
                                        accept="image/jpg, image/jpeg, image/png, application/pdf" id="comprobanten"
                                        class="validate">
                                </div>
                                <div class="col s1 m1 l1" *ngIf="doc.comprobanten.errors?.required">
                                    <i class="material-icons icon-red">error_outline</i>
                                </div>
                                <div class="file-path-wrapper">
                                    <input class="file-path validate" type="text"
                                        placeholder="Archivos permitidos PDF, JPG">
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="row">
                        <div class="input-field col s12 m12 l12">
                            <i class="material-icons prefix icon-gold">vpn_key</i>
                            <label class="title black-text"><b class="title col s12 m12 l12">Constancias</b></label>
                            <p><br></p>
                            <p>Estos archivos podrán ser (PDF, imagen)</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col s12 m2 l2">
                            <span>Estado de Cuenta</span>
                        </div>
                        <div class="file-field input-field col s12 m4 l4">
                            <div class="teal darken-4 btn">
                                <i class="material-icons right">attachment</i>cargar


                                <input type="file" required
                                    title="El Estado de Cuenta que propociones debe estar a tu nombre y mostrar con claridad la Clabe Interbancaria. Te sugerimos descargarlo directamente del portal de tu banco."
                                    (change)="ValidateSize('estado')" formControlName="estado"
                                    accept="image/jpg, image/jpeg, image/png, application/pdf" id="estado"
                                    class="validate">
                            </div>
                            <div class="col s1 m1 l1" *ngIf="doc.estado.errors?.required">
                                <i class="material-icons icon-red">error_outline</i>
                            </div>
                            <div class="file-path-wrapper">
                                <input class="file-path validate" type="text"
                                    placeholder="Archivos permitidos PDF, JPG">
                            </div>
                        </div>

                        <div class="col s12 m2 l2">
                            <span>Última Declaración Anual</span>
                        </div>
                        <div class="file-field input-field col s12 m4 l4">
                            <div class="teal darken-4 btn">
                                <i class="material-icons right">attachment</i>cargar


                                <input type="file" id="declaracion" formControlName="declaracion" required
                                    title="Si eres PERSONA FÍSICA CON ACTIVIDAD EMPRESARIAL envía tu última DECLARACIÓN DEL EJERCICIO DE IMPUESTOS FEDERALES; si eres PERSONA FÍSICA EN EL RÉGIMEN DE INCORPORACIÓN FISCAL envía el último ACUSE DE RECIBO DECLARACIÓN DE IMPUESTOS FEDERALES."
                                    (change)="ValidateSize('declaracion')"
                                    accept="image/jpg, image/jpeg, image/png, application/pdf"
                                    class="validate">
                            </div>
                            <div class="col s1 m1 l1" *ngIf="doc.declaracion.errors?.required">
                                <i class="material-icons icon-red">error_outline</i>
                            </div>
                            <div class="file-path-wrapper">
                                <input class="file-path validate" type="text"
                                    placeholder="Archivos permitidos PDF, JPG">
                            </div>
                        </div>

                        <div class="col s12 m2 l2">
                            <span>CURP</span>
                            <a (click)="sweetHome('0')"><i class="material-icons prefix icon-black">help_outline</i></a>
                        </div>
                        <div class="file-field input-field col s12 m4 l4">
                            <div class="teal darken-4 btn">
                                <i class="material-icons right">attachment</i>cargar

                                <input type="file" id="curpd" formControlName="curpd" required (change)="ValidateSize('curpd')" accept="application/pdf"
                                    class="validate">
                            </div>
                            <div class="col s1 m1 l1" *ngIf="doc.curpd.errors?.required">
                                <i class="material-icons icon-red">error_outline</i>
                            </div>
                            <div class="file-path-wrapper">
                                <input class="file-path validate" type="text"
                                    placeholder="Archivos permitidos PDF, JPG">
                            </div>
                        </div>

                        <div class="col s12 m2 l2">
                            <span>Constancia de Situación Fiscal (32D)</span>
                            <a (click)="sweetHome('2')"><i class="material-icons prefix icon-black">help_outline</i></a>
                        </div>
                        <div class="file-field input-field col s12 m4 l4">
                            <div class="teal darken-4 btn">
                                <i class="material-icons right">attachment</i>cargar

                                <input type="file" id="fiscal" formControlName="fiscal" required (change)="ValidateSize('fiscal')" accept="application/pdf"
                                     name="fiscal" class="validate">
                            </div>
                            <div class="col s1 m1 l1" *ngIf="doc.fiscal.errors?.required">
                                <i class="material-icons icon-red">error_outline</i>
                            </div>
                            <div class="file-path-wrapper">
                                <input class="file-path validate" type="text"
                                    placeholder="Archivos permitidos PDF, JPG">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="input-field col s12 m12 l12">
                            <i class="material-icons prefix icon-gold">vpn_key</i>
                            <label class="title black-text"><b class="title col s12 m12 l12">Firma de
                                    Documentos</b></label>
                            <p><br></p>
                            <p>Selecciona los archivos de tu firma electrónica avanzada (FIEL)</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="file-field input-field col s12 m6 l6">
                            <div class="teal darken-4 btn">
                                <i class="material-icons right">attachment</i>Archivo .key


                                <input type="file" (change)="ValidateSize('fiel')" accept=".key" id="fiel" required
                                    class="validate" > <!-- formControlName="fiel" -->

                                <div class="red-text" *ngIf="fi.fiel.errors?.required">
                                </div>
                            </div>
                            <div class="file-path-wrapper">
                                <input class="file-path validate" type="text">
                            </div>
                        </div>
                        <div>

                            <div class="file-field input-field col s12 m6 l6">
                                <div class="teal darken-4 btn">
                                    <i class="material-icons right">attachment</i>Archivo .cer

                                    <input type="file" (change)="ValidateSize('cer')" id="cer" accept=".cer" required
                                        class="validate" > <!-- formControlName="cer" -->

                                    <div class="red-text" *ngIf="fi.cer.errors?.required">
                                    </div>
                                </div>
                                <div class="file-path-wrapper">
                                    <input class="file-path validate" type="text">
                                </div>
                            </div>
                        </div>

                        <div class="input-field col s12 m12 l12">
                            <i class="material-icons prefix">lock</i>
                            <input id="password" type="password" name="password"  required
                                class="validate"> <!-- formControlName="password" -->
                            <label for="password">Contraseña de tu FIEL</label>
                            <div class="col s1 m1 l1" *ngIf="fi.password.errors?.required"></div>
                        </div>

                    </div>

                    <div class="input-field col s12 m12 l12">
                        <label><span><i class="material-icons icon-red left">error_outline</i>
                                Son requeridos todos los archivos para poder continuar con el proceso.
                            </span></label>
                    </div><br><br>

                    <div class="row">
                        <div class="row">
                            <div class="input-field col s12 m12 l12">
                                <label><input class="with-gap teal darken-4" required formControlName="autorizobc"
                                        name="autorizobc" type="checkbox" [(ngModel)]="bc" />
                                    <span>
                                        <label class="waves-effect modal-trigger subrayar" href="#autorizo">
                                            <span class="blue-text text-darken-4" style="font-size: 14px;">Autorizo la consulta a
                                                sociedades de información crediticia</span>
                                        </label>

                                       <!--  <label>
                                            <span class="black-text" style="font-size: 14px;">Autorizo la consulta a
                                                sociedades de información crediticia</span>
                                        </label> -->
                                    </span>
                                </label>
                            </div>
                        </div>
                        <br>
                        <div class="row">
                            <div class="input-field col s12 m12 l12">
                                <label> <input class="with-gap teal darken-4" required formControlName="termcond" name="termcond"
                                        type="checkbox" [(ngModel)]="term" />
                                    <span>

                                        <label class="waves-effect modal-trigger subrayar" href="#terminos">
                                            <span class="blue-text text-darken-4" style="font-size: 14px;">Acepto
                                                Términos y Condiciones</span>
                                        </label>
                                    </span>
                                </label>
                            </div>
                        </div>
                        <br>
                        <div class="row">
                            <div class="input-field col s12 m12 l12">
                                <label><input class="with-gap teal darken-4" formControlName="aprivacidad"
                                        name="A privacidad" id="aprivacidad" type="checkbox" [(ngModel)]="aviso" required/>
                                    <span>
    
                                        <label class="waves-effect modal-trigger subrayar" href="#aviso">
                                            <span class="blue-text text-darken-4" style="font-size: 14px;">He Leído la
                                                Política de Privacidad. </span>
                                        </label>
                                    </span>
                                </label>
                            </div>
                        </div>

                        <br><br>

                        <div class="col s12">
                            <a class="waves-effect teal darken-4 btn previous-step left">Atras
                                <i class="material-icons prefix left">arrow_back_ios</i>
                            </a>
                            <button class="waves-effect teal darken-4 btn right " type="submit">Continuar
                                <!--revisar nextstep igual en ts-->
                                <i class="material-icons prefix right">arrow_forward_ios</i>
                            </button>
                        </div>
                    </div>

                </form>

            </div>
        </li>
        <li class="step">
            <div class="step-title waves-effect waves-dark">Datos Socioeconómicos</div>
            <div class="step-content">
                <div class="row">
                    <div class="col m2 s8 offset-s1">
                        <img class="responsive-img img0" src="../../../assets/5.png">
                    </div>
                    <div class="col m9 offset-s1">
                        <p class="justificacion">Al responder las siguientes preguntas te recomendamos ser fiel a la
                            situación de tu negocio. Tus respuestas sirven para evaluar tu solicitud de crédito. La
                            información se validará con la documentación que nos proporcionaste.</p>
                    </div>

                    <!--pruebas--><br>
                    <app-question></app-question>
                    <!--pruebas-->
                </div>
            </div>
        </li>
        <li class="step">
            <div class="step-title waves-effect waves-dark">Descarga de Documentos</div>
            <div class="step-content">
                <br>
                <!--  -->
                <div class="card col s12" id="nanoo">
                    <div class="card-content">
                        <div class="row center">
                            <h3><b>¡Felicidades tu crédito fue aprobado!</b></h3>
                            <p class="flow-text">Por un monto de {{ dummyAmmount | currency:"MXN":"symbol" }}</p>
                        </div>
                        <div class="row center">

                            <div class="teal darken-4 btn" (click)="rechazaCred()">
                                <i class="material-icons right"></i>Rechazar
                            </div>
                            &nbsp;
                            <div class="teal darken-4 btn" (click)="aceptaCred()">
                                <i class="material-icons right"></i>Aceptar
                            </div>

                        </div>
                    </div>
                </div>
                <!--  -->

                <div class=" hide" id="nano">
                    <div class="row">
                        <div class="input-field col s12 m12 l12">
                            <i class="material-icons prefix icon-gold">vpn_key</i>
                            <label class="title black-text"><b class="title col s12 m12 l12">Revisa tus
                                    Documentos</b></label>
                            <p><br></p>
                            <p>Revisa cada uno de tus documentos, y si estas de acuerdo fírmalos.</p>
                        </div>
                    </div>
                    <div class="card col s12">
                        <div class="card-content">

                            <div class="row">
                                <ul>
                                    <li>
                                      <button class="waves-effect teal btn darken-4 modal-trigger left ml-3" href="#ccontrato">
                                        <span class="white-text text-darken-4" style="font-size: 14px;">
                                          Ver Caratula de Contrato
                                        </span>
                                      </button>
                                    </li>
                                    <li>
                                      <button class="waves-effect teal btn darken-4 modal-trigger left ml-3" href="#tamortizacion">
                                        <span class="white-text text-darken-4" style="font-size: 14px;">
                                          Ver Tabla de Amortización
                                        </span>
                                      </button>
                                    </li>
                                    <li>
                                      <button class="waves-effect teal btn darken-4 modal-trigger left ml-3" href="#pagare">
                                        <span class="white-text text-darken-3" style="font-size: 14px;">
                                          Ver Pagaré
                                        </span>
                                      </button>
                                    </li>
                                </ul>


                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="input-field col s12 m12 l12">
                            <i class="material-icons prefix icon-gold">vpn_key</i>
                            <label class="title black-text"><b class="title col s12 m12 l12">Firma tus
                                    Documentos</b></label>
                            <p><br></p>
                            <p>Selecciona los archivos de tu firma electrónica avanzada (FIEL)</p>
                        </div>
                    </div>

                    <div class="card col s12">
                        <div class="card-content">
                            <div class="row">
                                <br>
                                <form ngNativeValidate [formGroup]="formFielFirm" (ngSubmit)="dfielFirm()">

                                    <div class="file-field input-field col s12 m4 l4">
                                        <div class="teal darken-4 btn">
                                            <i class="material-icons right">attachment</i>Archivo .key
                                            <input type="file" (change)="ValidateSize('fielFirm')" accept=".key"
                                                id="fielFirm" formControlName="fielFirm"  required class="validate">

                                            <div class="red-text" *ngIf="fir.fielFirm.errors?.required">Archivo
                                                requerido</div>
                                        </div>
                                        <div class="file-path-wrapper">
                                            <input class="file-path validate" type="text">
                                        </div>
                                    </div>

                                    <div class="file-field input-field col s12 m4 l4">
                                        <div class="teal darken-4 btn">
                                            <i class="material-icons right">attachment</i>Archivo .cer
                                            <input type="file" formControlName="cerFirm"  (change)="ValidateSize('cerFirm')" accept=".cer"
                                                id="cerFirm" required class="validate">

                                            <div class="red-text" *ngIf="fir.cerFirm.errors?.required">Archivo requerido
                                            </div>
                                        </div>
                                        <div class="file-path-wrapper">
                                            <input class="file-path validate" type="text">
                                        </div>
                                    </div>

                                    <div class="input-field col s12 m4 l4">
                                        <i class="material-icons prefix">lock</i>
                                        <input id="passwordFirm" type="password" name="passwordFirm"
                                            formControlName="passwordFirm" required class="validate">
                                        <label for="password">Contraseña de tu FIEL</label>
                                        <div class="col s1 m1 l1" *ngIf="fir.passwordFirm.errors?.required"></div>
                                    </div>


                                    <!--   <div class="input-field col s12 m4 l4">
                                    <a class="waves-effect teal darken-4 btn modal-trigger" href="#modalContr">Ver Carátula Informativa
                                        <i class="medium material-icons icon-gold right">visibility</i>
                                    </a>
                                </div> -->

                                <div class="row">
                                    <div class="input-field col s12 m12 l12">
                                        <label> <input class="with-gap teal darken-4" required formControlName="termcond" name="termcond"
                                                type="checkbox" [(ngModel)]="term" />
                                            <span>
        
                                                <label class="waves-effect modal-trigger subrayar" href="#terminos">
                                                    <span class="blue-text text-darken-4" style="font-size: 14px;">Acepto
                                                        Términos y Condiciones</span>
                                                </label>
                                            </span>
                                        </label>
                                    </div>
                                </div>
                                <br>
                                <div class="row">
                                    <div class="input-field col s12 m12 l12">
                                        <label><input class="with-gap teal darken-4" formControlName="aprivacidad"
                                                name="A privacidad" id="aprivacidad" type="checkbox" [(ngModel)]="aviso" required/>
                                            <span>
            
                                                <label class="waves-effect modal-trigger subrayar" href="#aviso">
                                                    <span class="blue-text text-darken-4" style="font-size: 14px;">He Leído la
                                                        Política de Privacidad. </span>
                                                </label>
                                            </span>
                                        </label>
                                    </div>
                                </div>


                                    <div class="col s12">
                                        <br><br>
                                        <button class="waves-effect teal darken-4 btn right" type="submit">Firmar
                                            <!--revisar nextstep igual en ts-->
                                            <i class="material-icons prefix right">arrow_forward_ios</i>
                                        </button>

                                        <button class="waves-effect teal darken-4 btn left"
                                            (click)="cancelaCred()">Cancelar

                                        </button>

                                        <!--<a routerLink="/home" class="waves-effect  teal darken-4 btn right ">
                                                    <i class="material-icons prefix right">send</i> Terminar
                                                </a>-->

                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </li>
    </ul>
</div>

<div id="modal1" class="modal">
    <div class="modal-content">
        <h4 class="zz">¡Felicidades!, Solicitud Registrada.</h4>
        <!--<p class="flow-text"><b>N° de Registro: </b>KJF986JHH32</p>-->
        <p class="floe-text">Tu solicitud ha sido enviada a un proceso de evaluación, te mantendremos al tanto a través del correo registrado.</p>
    </div>
    <div class="modal-footer">
        <a routerLink="/home" (click)="userService.logout()" class="modal-close waves-effect teal darken-4 white-text btn-flat">Aceptar</a>
    </div>
    <div class="footer-copyright teal darken-3">
        <img class="responsive-img" src="https://framework-gb.cdn.gob.mx/landing/img/pleca.svg">
    </div>
</div>

<div id="helpIne" class="modal">
    <div class="modal-content center">
        <h4 class="zz">Aquí podrás encontrar tu Clave de Elector</h4>
        <br>
        <img class="responsive-img" src="../../../assets/ineHelp.png">
    </div>
    <div class="modal-footer">
        <a class="modal-close waves-effect teal darken-4 white-text btn-flat">Aceptar</a>
    </div>
    <div class="footer-copyright teal darken-3">
        <img class="responsive-img" src="https://framework-gb.cdn.gob.mx/landing/img/pleca.svg">
    </div>
</div>

<div id="aviso" class="modal">
    <div class="modal-content">
        <app-avisodeprivacidadintegral></app-avisodeprivacidadintegral>
    </div>
    <div class="modal-footer">
        <a class="modal-close waves-effect teal darken-4 white-text btn-flat">Cerrar</a>
    </div>
    <div class="footer-copyright teal darken-3">
        <img class="responsive-img" src="https://framework-gb.cdn.gob.mx/landing/img/pleca.svg">
    </div>
</div>

<div id="terminos" class="modal">
    <div class="modal-content">
        <app-terminosycondiciones></app-terminosycondiciones>
    </div>
    <div class="modal-footer">
        <a class="modal-close waves-effect teal darken-4 white-text btn-flat">Cerrar</a>
    </div>
    <div class="footer-copyright teal darken-3">
        <img class="responsive-img" src="https://framework-gb.cdn.gob.mx/landing/img/pleca.svg">
    </div>
</div>


<div id="modalContr" class="modal">
    <div class="modal-content">

        <!-- Aqui va -->

        <table id="convert" style='width:980px;'>
            <tr>
                <td style='padding: 0px 8px 8px;'>
                    <div style='font-family: Arial,Helvetica,sans-serif; font-size: 12px; color: rgb(0, 0, 0);'>

                        <img class="img" src="https://www.cetesdirecto.com/imagenes/shcp1.jpg">
                        <img class="img2"
                            src="https://www.bancodelbienestar.com.mx/Banca/_imagenes/BansefiNew/logo_bancodelbienestar_2.png">
                        <table width='100%' style='width:100%;' cellspacing='0' cellpadding='2' align='center'
                            border='0'>
                            <tbody>

                                <table class="table" style='width:980px'>
                                    <tr class="primero">
                                        <th colspan="5" class="titulos">CARÁTULA INFORMATIVA</th>
                                    </tr>

                                    <tr>
                                        <td colspan="3" class="titulo">Número de Crédito: {{ hugo }}</td>
                                        <td colspan="3"> </td>
                                    </tr>

                                    <tr>
                                        <td colspan="5">
                                            <p>Nombre comercial del Producto:</p>
                                            <p>Tipo de Crédito: Crédito Simple en Moneda Nacional.</p>
                                    </tr>

                                    <tr>
                                        <td colspan="1">Tasa de interés anualordinaria</td>
                                        <td colspan="1">CAT (Costo Anual Total / SinIVA)</td>
                                        <td colspan="1">CAT (Costo Anual Total)</td>
                                        <td colspan="1">MONTO O LÍNEA DE CRÉDITO</td>
                                        <td colspan="1">MONTO MENSUAL A PAGAR</td>
                                    </tr>

                                    <tr class="espacio">
                                        <td> {{ catPorcentaje }} </td>
                                        <td> {{ catPorcentaje }} </td>
                                        <!-- <td> {{ tasaInteresMensual }} </td> -->
                                        <td> {{ valueMon }} </td>
                                        <td> {{ finance }} </td>
                                    </tr>

                                    <tr>
                                        <td colspan="5" class="titulo">COMISIONES RELEVANTES</td>
                                    </tr>

                                    <tr>
                                        <td colspan="2">
                                            <ul>
                                                <li>Apertura: $0.00</li>
                                                <li>Anualidad: $0.00</li>
                                                <li>Prepago: $0.00</li>
                                                <li>Pago tardío (mora): 1.5 veces la tasa de interés anual ordinaria
                                                </li>
                                            </ul>
                                        </td>

                                        <td colspan="3">
                                            <ul>
                                                <li>Reclamación improcedente: $0.00</li>
                                                <li>Cobranza:</li>
                                                Para otras comisiones consulte: Contrato de Crédito
                                            </ul>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td colspan="2" class="titulo">PLAZO DEL CRÉDITO:
                                            <p>___{{valuePlaz}}___meses</p>
                                        </td>
                                        <td colspan="3">Fecha límite de primer pago: _____________________ y las
                                            subsecuentes, en términos de la Tabla de Amortización:</td>
                                    </tr>

                                    <tr>
                                        <td colspan="5">ADVERTENCIAS:
                                            <p>Contratar créditos que excedan tu capacidad de pago afecta tu historial
                                                crediticio.</p>
                                        </td>

                                    </tr>

                                    <tr>
                                        <td colspan="5">ESTADO DE CUENTA:
                                            <li>Consulta: vía internet X</li>
                                            <li>Envío por correo electrónico: X</li>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td colspan="5">ACLARACIONES Y RECLAMACIONES:
                                            <p>Unidad Especializada de Atención a Usuarios:</p>
                                            <p>Domicilio: Avenida Río Magdalena #115, Colonia Tizapán San Ángel,
                                                Delegación Álvaro Obregón, C.P. 01090, México, Distrito Federal.</p>
                                            <p>Teléfono (01 55) 54813300 extensión 3578 en el horario de 9:00 a.m. a
                                                18:00 p.m. Correo electrónico: ueau@bansefi.gob.mx</p>
                                            <p>Página de Internet: www.bancodelbienestar.gob.mx</p>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td colspan="5">REGISTRO DE CONTRATOS DE ADHESIÓN NÚM:
                                            <p>Comisión Nacional para la Protección y Defensa de los Usuarios de
                                                Servicios Financieros (CONDUSEF):</p>
                                            <p>Teléfono: 01 800 999 8080 y 53400999. Página de Internet.
                                                www.condusef.gob.mx Correo electrónico: opinion@condusef.gob.mx.</p>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="titulo" colspan="2">
                                            <p>___________________________________________</p>Nombre y firma de
                                            consentimiento del Acreditado
                                        </td>
                                        <td class="titulo" colspan="3">
                                            <p>_______________________________</p>Por "Banco del Bienetar"
                                        </td>
                                    </tr>

                                </table>

                            </tbody>
                        </table>
                        <br />
                        <br />

                    </div>
                </td>
            </tr>

        </table>
        <!-- Aqui cierra -->

    </div>
    <div class="modal-footer">
        <a class="modal-close waves-effect teal darken-4 white-text btn-flat">Aceptar</a>
    </div>
    <div class="footer-copyright teal darken-3">
        <img class="responsive-img" src="https://framework-gb.cdn.gob.mx/landing/img/pleca.svg">
    </div>
</div>


<!-- <div id="modalMap" class="iframe-container hide">
    <a (click)="mapOk()" class="waves-effect teal darken-4 btn">Aceptar</a>
    <iframe id="mapFrame" src="/map"></iframe>
</div> -->

<div id="ccontrato" class="modal">
    <div class="modal-content">
        <app-ccontrato></app-ccontrato>
    </div>
    <div class="modal-footer">
        <a class="modal-close waves-effect teal darken-4 white-text btn-flat">Cerrar</a>
    </div>
    <div class="footer-copyright teal darken-3">
        <img class="responsive-img" src="https://framework-gb.cdn.gob.mx/landing/img/pleca.svg">
    </div>
</div>

<div id="tamortizacion" class="modal">
    <div class="modal-content">
        <app-amortizacion></app-amortizacion>
    </div>
    <div class="modal-footer">
        <a class="modal-close waves-effect teal darken-4 white-text btn-flat">Cerrar</a>
    </div>
    <div class="footer-copyright teal darken-3">
        <img class="responsive-img" src="https://framework-gb.cdn.gob.mx/landing/img/pleca.svg">
    </div>
</div>

<div id="pagare" class="modal">
    <div class="modal-content">
        <app-pagare (prpPagare)="recibePagare($event)"></app-pagare>
    </div>
    <!-- <div class="modal-footer">
        <a class="modal-close waves-effect teal darken-4 white-text btn-flat">Cerrar</a>
    </div> -->
    <div class="footer-copyright teal darken-3">
        <img class="responsive-img" src="https://framework-gb.cdn.gob.mx/landing/img/pleca.svg">
    </div>
</div>

<div id="loader" class="modal transparent z-depth-0 center">
    <div class="modal-content" >
        <div class="preloader-wrapper big active">
            <div class="spinner-layer spinner-green-only">
              <div class="circle-clipper left">
                <div class="circle"></div>
              </div><div class="gap-patch">
                <div class="circle"></div>
              </div><div class="circle-clipper right">
                <div class="circle"></div>
              </div>
            </div>
          </div>
    </div>    
</div>

<div id="autorizo" class="modal">
    <div class="modal-content">
        <app-autorizacion></app-autorizacion>
    </div>
    <div class="modal-footer">
        <a class="modal-close waves-effect teal darken-4 white-text btn-flat">Cerrar</a>
    </div>
    <div class="footer-copyright teal darken-3">
        <img class="responsive-img" src="https://framework-gb.cdn.gob.mx/landing/img/pleca.svg">
    </div>
</div>


<app-footer></app-footer>
